---
layout: post
title: Fun with Variants and Enums in Rails 4.1
date: '2014-07-25T04:01:00.001-07:00'
author: lokesh jain
tags: 
modified_time: '2014-07-25T04:01:11.338-07:00'
blogger_id: tag:blogger.com,1999:blog-3986102045809195254.post-2994503890329367827
blogger_orig_url: http://phptricksand.blogspot.com/2014/07/fun-with-variants-and-enums-in-rails-41_25.html
---

<div style="background-color: white; box-sizing: border-box; color: #58595b; direction: ltr; font-family: museo-sans-rounded, sans-serif; font-size: 14pt; line-height: 1.875em; margin-bottom: 1.25em; padding: 0px;"><strong style="box-sizing: border-box; line-height: inherit;">Variants</strong></div><div style="background-color: white; box-sizing: border-box; color: #58595b; direction: ltr; font-family: museo-sans-rounded, sans-serif; font-size: 14pt; line-height: 1.875em; margin-bottom: 1.25em; padding: 0px;">Variants can be used within a respond_to block to handle the same action in separate ways. Using the&nbsp;<code style="background: rgb(238, 238, 238); border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 1em; padding: 2px 4px;">User</code>model from above, we can render a show page unique for a particular user's role.</div><pre class="highlight ruby" style="background: rgb(52, 52, 52); border-bottom-left-radius: 6px; border-bottom-right-radius: 6px; border-top-left-radius: 6px; border-top-right-radius: 6px; box-sizing: border-box; color: white; direction: ltr; font-family: monospace, serif; font-size: 16px; line-height: 20px; margin-bottom: 30px; overflow-x: auto; padding: 15px 20px; white-space: pre-wrap;"><span class="k" style="box-sizing: border-box; color: #7f9fc7;">def </span><span class="nf" style="box-sizing: border-box; color: #dae395;">show</span><br />  <span class="vi" style="box-sizing: border-box; color: #da7d95;">@user</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="no" style="box-sizing: border-box; color: #fcbb72;">User</span><span class="nf" style="box-sizing: border-box; color: #dae395;">.find</span><span class="p" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">params</span><span class="o" style="box-sizing: border-box;">[</span><span class="ss" style="box-sizing: border-box; color: #f08166;">:id</span><span class="o" style="box-sizing: border-box;">]</span><span class="p" style="box-sizing: border-box;">)</span><br />  <span class="n" style="box-sizing: border-box;">request</span><span class="nf" style="box-sizing: border-box; color: #dae395;">.variant</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="vi" style="box-sizing: border-box; color: #da7d95;">@user</span><span class="nf" style="box-sizing: border-box; color: #dae395;">.role.to_sym</span><br />  <span class="n" style="box-sizing: border-box;">respond_to</span> <span class="k" style="box-sizing: border-box; color: #7f9fc7;">do</span> <span class="o" style="box-sizing: border-box;">|</span><span class="nb" style="box-sizing: border-box; color: #da7d95;">format</span><span class="o" style="box-sizing: border-box;">|</span><br />    <span class="nb" style="box-sizing: border-box; color: #da7d95;">format</span><span class="nf" style="box-sizing: border-box; color: #dae395;">.html</span> <span class="k" style="box-sizing: border-box; color: #7f9fc7;">do</span> <span class="o" style="box-sizing: border-box;">|</span><span class="n" style="box-sizing: border-box;">html</span><span class="o" style="box-sizing: border-box;">|</span><br />      <span class="n" style="box-sizing: border-box;">html</span><span class="nf" style="box-sizing: border-box; color: #dae395;">.student</span><br />      <span class="n" style="box-sizing: border-box;">html</span><span class="nf" style="box-sizing: border-box; color: #dae395;">.staff</span><br />      <span class="n" style="box-sizing: border-box;">html</span><span class="nf" style="box-sizing: border-box; color: #dae395;">.admin</span><br />    <span class="k" style="box-sizing: border-box; color: #7f9fc7;">end</span><br />  <span class="k" style="box-sizing: border-box; color: #7f9fc7;">end</span><br /><span class="k" style="box-sizing: border-box; color: #7f9fc7;">end</span></pre><div style="background-color: white; box-sizing: border-box; color: #58595b; direction: ltr; font-family: museo-sans-rounded, sans-serif; font-size: 14pt; line-height: 1.875em; margin-bottom: 1.25em; padding: 0px;">In this example, the variants of the show action such as&nbsp;<code style="background: rgb(238, 238, 238); border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 1em; padding: 2px 4px;">html.student</code>&nbsp;will render a view template with the name matching:&nbsp;<code style="background: rgb(238, 238, 238); border-bottom-left-radius: 2px; border-bottom-right-radius: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px; box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Courier, monospace; font-size: 1em; padding: 2px 4px;">show.html+student.haml</code>&nbsp;(or erb if you prefer). This allows us to use the same logic from our</div><br /><br /><br /><br /><a href="http://www.littlelines.com/blog/2014/04/21/fun_with_variants_and_enums_in_rails_4_1/">Fun with Variants and Enums in Rails 4.1</a>: <br /><br /><br /><br /><a href="https://chrome.google.com/webstore/detail/pengoopmcjnbflcjbmoeodbmoflcgjlk" style="font-size: 13px;">'via Blog this'</a>